"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/nfts";
exports.ids = ["pages/api/nfts"];
exports.modules = {

/***/ "@taquito/signer":
/*!**********************************!*\
  !*** external "@taquito/signer" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("@taquito/signer");

/***/ }),

/***/ "@taquito/taquito":
/*!***********************************!*\
  !*** external "@taquito/taquito" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("@taquito/taquito");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnfts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fnfts.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnfts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fnfts.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_nfts_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/nfts.ts */ \"(api)/./pages/api/nfts.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_nfts_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_nfts_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/nfts\",\n        pathname: \"/api/nfts\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_nfts_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm5mdHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRm5mdHMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDZ0Q7QUFDaEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLCtDQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywrQ0FBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9uZnRzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9uZnRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbmZ0c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnfts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fnfts.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/nfts.ts":
/*!***************************!*\
  !*** ./pages/api/nfts.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _src_adapters_TezosAdapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/adapters/TezosAdapter */ \"(api)/./src/adapters/TezosAdapter.ts\");\n\nasync function handler(req, res) {\n    if (req.method !== 'GET') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    try {\n        const adapter = new _src_adapters_TezosAdapter__WEBPACK_IMPORTED_MODULE_0__.TezosAdapter();\n        const walletAddress = \"tz1bkhCGUuA5bveCsMqXe9tEkopkZX3hiB9i\";\n        if (!walletAddress) {\n            throw new Error('Wallet address not configured');\n        }\n        console.log('Fetching NFTs for wallet:', walletAddress);\n        const nfts = await adapter.getNFTs(walletAddress);\n        console.log(`Found ${nfts.length} NFTs`);\n        res.status(200).json(nfts);\n    } catch (error) {\n        console.error('Error in /api/nfts:', error);\n        res.status(500).json({\n            message: 'Failed to fetch NFTs',\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbmZ0cy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUMrRDtBQUVoRCxlQUFlQyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBcUI7SUFDOUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsVUFBVSxJQUFJUixvRUFBWUE7UUFDaEMsTUFBTVMsZ0JBQWdCQyxzQ0FBNEM7UUFFbEUsSUFBSSxDQUFDRCxlQUFlO1lBQ2xCLE1BQU0sSUFBSUksTUFBTTtRQUNsQjtRQUVBQyxRQUFRQyxHQUFHLENBQUMsNkJBQTZCTjtRQUN6QyxNQUFNTyxPQUFPLE1BQU1SLFFBQVFTLE9BQU8sQ0FBQ1I7UUFDbkNLLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRUMsS0FBS0UsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUV2Q2YsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ1U7SUFDdkIsRUFBRSxPQUFPRyxPQUFPO1FBQ2RMLFFBQVFLLEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDaEIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQXdCWSxPQUFPQSxNQUFNWixPQUFPO1FBQUM7SUFDL0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvbWlrZS9hc3BhcmFndXMtbmZ0LW1hbmFnZXIvcGFnZXMvYXBpL25mdHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgVGV6b3NBZGFwdGVyIH0gZnJvbSAnLi4vLi4vc3JjL2FkYXB0ZXJzL1Rlem9zQWRhcHRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGFkYXB0ZXIgPSBuZXcgVGV6b3NBZGFwdGVyKCk7XG4gICAgY29uc3Qgd2FsbGV0QWRkcmVzcyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFWk9TX1dBTExFVF9BRERSRVNTO1xuICAgIFxuICAgIGlmICghd2FsbGV0QWRkcmVzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXYWxsZXQgYWRkcmVzcyBub3QgY29uZmlndXJlZCcpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBORlRzIGZvciB3YWxsZXQ6Jywgd2FsbGV0QWRkcmVzcyk7XG4gICAgY29uc3QgbmZ0cyA9IGF3YWl0IGFkYXB0ZXIuZ2V0TkZUcyh3YWxsZXRBZGRyZXNzKTtcbiAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtuZnRzLmxlbmd0aH0gTkZUc2ApO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24obmZ0cyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gL2FwaS9uZnRzOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggTkZUcycsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIlRlem9zQWRhcHRlciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImFkYXB0ZXIiLCJ3YWxsZXRBZGRyZXNzIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1RFWk9TX1dBTExFVF9BRERSRVNTIiwiRXJyb3IiLCJjb25zb2xlIiwibG9nIiwibmZ0cyIsImdldE5GVHMiLCJsZW5ndGgiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/nfts.ts\n");

/***/ }),

/***/ "(api)/./src/adapters/TezosAdapter.ts":
/*!**************************************!*\
  !*** ./src/adapters/TezosAdapter.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TezosAdapter: () => (/* binding */ TezosAdapter)\n/* harmony export */ });\n/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/config */ \"(api)/./src/config/config.ts\");\n/* harmony import */ var _taquito_taquito__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @taquito/taquito */ \"@taquito/taquito\");\n/* harmony import */ var _taquito_taquito__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_taquito_taquito__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _taquito_signer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @taquito/signer */ \"@taquito/signer\");\n/* harmony import */ var _taquito_signer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_taquito_signer__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _services_MarketDataService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/MarketDataService */ \"(api)/./src/services/MarketDataService.ts\");\n\n\n\n\nclass TezosAdapter {\n    constructor(secretKey){\n        this.address = '';\n        this.tezos = new _taquito_taquito__WEBPACK_IMPORTED_MODULE_1__.TezosToolkit(_config_config__WEBPACK_IMPORTED_MODULE_0__.CONFIG.TEZOS.RPC_URL);\n        this.marketDataService = new _services_MarketDataService__WEBPACK_IMPORTED_MODULE_3__.MarketDataService();\n        if (secretKey) {\n            const signer = new _taquito_signer__WEBPACK_IMPORTED_MODULE_2__.InMemorySigner(secretKey);\n            this.tezos.setProvider({\n                signer\n            });\n            signer.publicKeyHash().then((address)=>{\n                this.address = address;\n            });\n        }\n    }\n    async getWalletAddress() {\n        return this.address;\n    }\n    async getFA2Contract(contractAddress) {\n        try {\n            return await this.tezos.contract.at(contractAddress);\n        } catch (error) {\n            console.error(`Error loading FA2 contract ${contractAddress}:`, error);\n            throw error;\n        }\n    }\n    validateTokenMetadata(metadata) {\n        if (!metadata || typeof metadata !== 'object') return false;\n        if (!metadata.token_id || !metadata.token_info) return false;\n        if (!metadata.token_info.name) return false;\n        return true;\n    }\n    decodeBytes(value) {\n        if (!value) return '';\n        try {\n            return value;\n        } catch  {\n            return value || '';\n        }\n    }\n    async getNFTs(walletAddress) {\n        try {\n            // Update query to filter for FA2 tokens and NFTs\n            const response = await fetch(`${_config_config__WEBPACK_IMPORTED_MODULE_0__.CONFIG.TEZOS.TZKT_API}/v1/tokens/balances?` + `account=${walletAddress}` + `&balance.gt=0` + `&token.standard=fa2` + `&token.metadata.artifactUri.null=false`);\n            if (!response.ok) {\n                throw new Error('Failed to fetch token balances from TzKT');\n            }\n            const balances = await response.json();\n            const nfts = [];\n            for (const balance of balances){\n                try {\n                    if (!balance.token?.metadata) {\n                        console.log(`Skipping token without metadata: ${balance.token?.contract?.address}-${balance.token?.tokenId}`);\n                        continue;\n                    }\n                    // Use the metadata directly from TzKt\n                    const metadata = balance.token.metadata;\n                    nfts.push({\n                        id: `${balance.token.contract.address}-${balance.token.tokenId}`,\n                        chainType: 'tezos',\n                        name: metadata.name || metadata.symbol || 'Unnamed NFT',\n                        collection: balance.token.contract.alias || balance.token.contract.address,\n                        description: metadata.description || '',\n                        imageUrl: metadata.artifactUri || metadata.thumbnailUri || '',\n                        attributes: {\n                            symbol: metadata.symbol || '',\n                            contractAddress: balance.token.contract.address,\n                            tokenId: balance.token.tokenId,\n                            ...metadata.attributes\n                        }\n                    });\n                } catch (error) {\n                    console.error(`Error processing token ${balance.token?.contract?.address}-${balance.token?.tokenId}:`, error);\n                    continue;\n                }\n            }\n            return nfts;\n        } catch (error) {\n            console.error('Error fetching Tezos NFTs:', error);\n            throw error;\n        }\n    }\n    async getMarketData(nft) {\n        return this.marketDataService.getMarketData(nft);\n    }\n    async checkAndSetOperator(nft, marketplaceAddress) {\n        try {\n            if (!nft.attributes?.contractAddress || !nft.attributes?.tokenId) {\n                throw new Error('Missing NFT contract address or token ID');\n            }\n            const nftContract = await this.tezos.contract.at(nft.attributes.contractAddress);\n            const storage = await nftContract.storage();\n            // Get current wallet address\n            const walletAddress = await this.getWalletAddress();\n            // Check if marketplace is already approved\n            let isApproved = false;\n            if (storage.operators) {\n                const key = {\n                    owner: walletAddress,\n                    operator: marketplaceAddress,\n                    token_id: nft.attributes.tokenId\n                };\n                isApproved = await storage.operators.get(key);\n            }\n            if (!isApproved) {\n                // Prepare the update_operators call\n                const updateOperatorsParam = [\n                    {\n                        add_operator: {\n                            owner: walletAddress,\n                            operator: marketplaceAddress,\n                            token_id: nft.attributes.tokenId\n                        }\n                    }\n                ];\n                // Send the approval transaction\n                const operation = await nftContract.methods.update_operators(updateOperatorsParam).send();\n                // Wait for confirmation\n                await operation.confirmation(1);\n                console.log('Operator approval confirmed:', operation.hash);\n                return true;\n            }\n            return isApproved;\n        } catch (error) {\n            console.error('Error in checkAndSetOperator:', error);\n            throw new Error('Failed to approve marketplace operator');\n        }\n    }\n    async createListing(marketplaceAddress, params) {\n        try {\n            const marketplaceContract = await this.tezos.contract.at(marketplaceAddress);\n            // Create the listing operation\n            const operation = await marketplaceContract.methods.list_token({\n                fa2_address: params.assetContract,\n                token_id: params.tokenId,\n                price: params.price,\n                seller: params.seller\n            }).send();\n            // Wait for confirmation\n            await operation.confirmation(1);\n            console.log('Listing confirmed:', operation.hash);\n            return true;\n        } catch (error) {\n            console.error('Error creating listing:', error);\n            throw new Error('Failed to create listing on marketplace');\n        }\n    }\n    async listNFT(nft, price) {\n        // Check marketplace contract configuration first\n        const marketplaceAddress = _config_config__WEBPACK_IMPORTED_MODULE_0__.CONFIG.TEZOS.MARKETPLACE_CONTRACT;\n        if (!marketplaceAddress) {\n            throw new Error('Marketplace contract address not configured');\n        }\n        try {\n            const walletAddress = await this.getWalletAddress();\n            if (!walletAddress) {\n                throw new Error('No wallet address available');\n            }\n            // First, ensure the marketplace is approved as an operator\n            const isApproved = await this.checkAndSetOperator(nft, marketplaceAddress);\n            if (!isApproved) {\n                throw new Error('Failed to approve marketplace operator');\n            }\n            // Validate NFT attributes\n            if (!nft.attributes?.contractAddress || !nft.attributes?.tokenId) {\n                throw new Error('Missing NFT contract address or token ID');\n            }\n            // Convert price to mutez if provided in tez\n            const priceInMutez = price * 1000000; // Convert tez to mutez\n            // Create the listing\n            const listingParams = {\n                assetContract: nft.attributes.contractAddress,\n                tokenId: nft.attributes.tokenId,\n                price: priceInMutez,\n                seller: walletAddress\n            };\n            return await this.createListing(marketplaceAddress, listingParams);\n        } catch (error) {\n            if (error instanceof Error && error.message === 'Marketplace contract address not configured') {\n                throw error;\n            }\n            console.error('Error in listNFT:', error);\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFxQjtZQUNyQixNQUFNSyxnQkFBK0I7Z0JBQ25DTixlQUFleEIsSUFBSUYsVUFBVSxDQUFDcEMsZUFBZTtnQkFDN0N5QixTQUFTYSxJQUFJRixVQUFVLENBQUNYLE9BQU87Z0JBQy9Cc0MsT0FBT0k7Z0JBQ1BILFFBQVFuRDtZQUNWO1lBRUEsT0FBTyxNQUFNLElBQUksQ0FBQzRDLGFBQWEsQ0FBQ2pCLG9CQUFvQjRCO1FBQ3RELEVBQUUsT0FBT2pFLE9BQU87WUFDZCxJQUFJQSxpQkFBaUJlLFNBQVNmLE1BQU1rRSxPQUFPLEtBQUssK0NBQStDO2dCQUM3RixNQUFNbEU7WUFDUjtZQUNBQyxRQUFRRCxLQUFLLENBQUMscUJBQXFCQTtZQUNuQyxNQUFNQTtRQUNSO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvbWlrZS9hc3BhcmFndXMtbmZ0LW1hbmFnZXIvc3JjL2FkYXB0ZXJzL1Rlem9zQWRhcHRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFpbkFkYXB0ZXIsIE5GVE1ldGFkYXRhLCBNYXJrZXREYXRhIH0gZnJvbSAnLi4vdHlwZXMvbmZ0JztcbmltcG9ydCB7IENPTkZJRyB9IGZyb20gJy4uL2NvbmZpZy9jb25maWcnO1xuaW1wb3J0IHsgVGV6b3NUb29sa2l0IH0gZnJvbSAnQHRhcXVpdG8vdGFxdWl0byc7XG5pbXBvcnQgeyBJbk1lbW9yeVNpZ25lciB9IGZyb20gJ0B0YXF1aXRvL3NpZ25lcic7XG5pbXBvcnQgeyBNYXJrZXREYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL01hcmtldERhdGFTZXJ2aWNlJztcblxuaW50ZXJmYWNlIFRva2VuSW5mbyB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBhcnRpZmFjdFVyaT86IHN0cmluZztcbiAgdGh1bWJuYWlsVXJpPzogc3RyaW5nO1xuICBzeW1ib2w/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBGQTJUb2tlbiB7XG4gIHRva2VuX2lkOiBzdHJpbmc7XG4gIHRva2VuX2luZm86IFRva2VuSW5mbztcbn1cblxuaW50ZXJmYWNlIExpc3RpbmdQYXJhbXMge1xuICBhc3NldENvbnRyYWN0OiBzdHJpbmc7XG4gIHRva2VuSWQ6IHN0cmluZztcbiAgcHJpY2U6IG51bWJlcjsgLy8gaW4gbXV0ZXpcbiAgc2VsbGVyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBUZXpvc0FkYXB0ZXIgaW1wbGVtZW50cyBDaGFpbkFkYXB0ZXIge1xuICBwcml2YXRlIHRlem9zOiBUZXpvc1Rvb2xraXQ7XG4gIHByaXZhdGUgYWRkcmVzczogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgbWFya2V0RGF0YVNlcnZpY2U6IE1hcmtldERhdGFTZXJ2aWNlO1xuXG4gIGNvbnN0cnVjdG9yKHNlY3JldEtleT86IHN0cmluZykge1xuICAgIHRoaXMudGV6b3MgPSBuZXcgVGV6b3NUb29sa2l0KENPTkZJRy5URVpPUy5SUENfVVJMKTtcbiAgICB0aGlzLm1hcmtldERhdGFTZXJ2aWNlID0gbmV3IE1hcmtldERhdGFTZXJ2aWNlKCk7XG4gICAgXG4gICAgaWYgKHNlY3JldEtleSkge1xuICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IEluTWVtb3J5U2lnbmVyKHNlY3JldEtleSk7XG4gICAgICB0aGlzLnRlem9zLnNldFByb3ZpZGVyKHsgc2lnbmVyIH0pO1xuICAgICAgXG4gICAgICBzaWduZXIucHVibGljS2V5SGFzaCgpLnRoZW4oYWRkcmVzcyA9PiB7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFdhbGxldEFkZHJlc3MoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRGQTJDb250cmFjdChjb250cmFjdEFkZHJlc3M6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy50ZXpvcy5jb250cmFjdC5hdChjb250cmFjdEFkZHJlc3MpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIEZBMiBjb250cmFjdCAke2NvbnRyYWN0QWRkcmVzc306YCwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZVRva2VuTWV0YWRhdGEobWV0YWRhdGE6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICghbWV0YWRhdGEgfHwgdHlwZW9mIG1ldGFkYXRhICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghbWV0YWRhdGEudG9rZW5faWQgfHwgIW1ldGFkYXRhLnRva2VuX2luZm8pIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIW1ldGFkYXRhLnRva2VuX2luZm8ubmFtZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWNvZGVCeXRlcyh2YWx1ZT86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdmFsdWUgfHwgJyc7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0TkZUcyh3YWxsZXRBZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPE5GVE1ldGFkYXRhW10+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVXBkYXRlIHF1ZXJ5IHRvIGZpbHRlciBmb3IgRkEyIHRva2VucyBhbmQgTkZUc1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYCR7Q09ORklHLlRFWk9TLlRaS1RfQVBJfS92MS90b2tlbnMvYmFsYW5jZXM/YCArIFxuICAgICAgICBgYWNjb3VudD0ke3dhbGxldEFkZHJlc3N9YCArXG4gICAgICAgIGAmYmFsYW5jZS5ndD0wYCArXG4gICAgICAgIGAmdG9rZW4uc3RhbmRhcmQ9ZmEyYCArXG4gICAgICAgIGAmdG9rZW4ubWV0YWRhdGEuYXJ0aWZhY3RVcmkubnVsbD1mYWxzZWBcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdG9rZW4gYmFsYW5jZXMgZnJvbSBUektUJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJhbGFuY2VzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgbmZ0czogTkZUTWV0YWRhdGFbXSA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGJhbGFuY2Ugb2YgYmFsYW5jZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWJhbGFuY2UudG9rZW4/Lm1ldGFkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgU2tpcHBpbmcgdG9rZW4gd2l0aG91dCBtZXRhZGF0YTogJHtiYWxhbmNlLnRva2VuPy5jb250cmFjdD8uYWRkcmVzc30tJHtiYWxhbmNlLnRva2VuPy50b2tlbklkfWApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXNlIHRoZSBtZXRhZGF0YSBkaXJlY3RseSBmcm9tIFR6S3RcbiAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGJhbGFuY2UudG9rZW4ubWV0YWRhdGE7XG4gICAgICAgICAgXG4gICAgICAgICAgbmZ0cy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBgJHtiYWxhbmNlLnRva2VuLmNvbnRyYWN0LmFkZHJlc3N9LSR7YmFsYW5jZS50b2tlbi50b2tlbklkfWAsXG4gICAgICAgICAgICBjaGFpblR5cGU6ICd0ZXpvcycsXG4gICAgICAgICAgICBuYW1lOiBtZXRhZGF0YS5uYW1lIHx8IG1ldGFkYXRhLnN5bWJvbCB8fCAnVW5uYW1lZCBORlQnLFxuICAgICAgICAgICAgY29sbGVjdGlvbjogYmFsYW5jZS50b2tlbi5jb250cmFjdC5hbGlhcyB8fCBiYWxhbmNlLnRva2VuLmNvbnRyYWN0LmFkZHJlc3MsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogbWV0YWRhdGEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICBpbWFnZVVybDogbWV0YWRhdGEuYXJ0aWZhY3RVcmkgfHwgbWV0YWRhdGEudGh1bWJuYWlsVXJpIHx8ICcnLFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICBzeW1ib2w6IG1ldGFkYXRhLnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBiYWxhbmNlLnRva2VuLmNvbnRyYWN0LmFkZHJlc3MsXG4gICAgICAgICAgICAgIHRva2VuSWQ6IGJhbGFuY2UudG9rZW4udG9rZW5JZCxcbiAgICAgICAgICAgICAgLi4ubWV0YWRhdGEuYXR0cmlidXRlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgdG9rZW4gJHtiYWxhbmNlLnRva2VuPy5jb250cmFjdD8uYWRkcmVzc30tJHtiYWxhbmNlLnRva2VuPy50b2tlbklkfTpgLCBlcnJvcik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5mdHM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIFRlem9zIE5GVHM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0TWFya2V0RGF0YShuZnQ6IE5GVE1ldGFkYXRhKTogUHJvbWlzZTxNYXJrZXREYXRhPiB7XG4gICAgcmV0dXJuIHRoaXMubWFya2V0RGF0YVNlcnZpY2UuZ2V0TWFya2V0RGF0YShuZnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjaGVja0FuZFNldE9wZXJhdG9yKFxuICAgIG5mdDogTkZUTWV0YWRhdGEsXG4gICAgbWFya2V0cGxhY2VBZGRyZXNzOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghbmZ0LmF0dHJpYnV0ZXM/LmNvbnRyYWN0QWRkcmVzcyB8fCAhbmZ0LmF0dHJpYnV0ZXM/LnRva2VuSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE5GVCBjb250cmFjdCBhZGRyZXNzIG9yIHRva2VuIElEJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5mdENvbnRyYWN0ID0gYXdhaXQgdGhpcy50ZXpvcy5jb250cmFjdC5hdChuZnQuYXR0cmlidXRlcy5jb250cmFjdEFkZHJlc3MpO1xuICAgICAgY29uc3Qgc3RvcmFnZTogYW55ID0gYXdhaXQgbmZ0Q29udHJhY3Quc3RvcmFnZSgpO1xuICAgICAgXG4gICAgICAvLyBHZXQgY3VycmVudCB3YWxsZXQgYWRkcmVzc1xuICAgICAgY29uc3Qgd2FsbGV0QWRkcmVzcyA9IGF3YWl0IHRoaXMuZ2V0V2FsbGV0QWRkcmVzcygpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBtYXJrZXRwbGFjZSBpcyBhbHJlYWR5IGFwcHJvdmVkXG4gICAgICBsZXQgaXNBcHByb3ZlZCA9IGZhbHNlO1xuICAgICAgaWYgKHN0b3JhZ2Uub3BlcmF0b3JzKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHtcbiAgICAgICAgICBvd25lcjogd2FsbGV0QWRkcmVzcyxcbiAgICAgICAgICBvcGVyYXRvcjogbWFya2V0cGxhY2VBZGRyZXNzLFxuICAgICAgICAgIHRva2VuX2lkOiBuZnQuYXR0cmlidXRlcy50b2tlbklkXG4gICAgICAgIH07XG4gICAgICAgIGlzQXBwcm92ZWQgPSBhd2FpdCBzdG9yYWdlLm9wZXJhdG9ycy5nZXQoa2V5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0FwcHJvdmVkKSB7XG4gICAgICAgIC8vIFByZXBhcmUgdGhlIHVwZGF0ZV9vcGVyYXRvcnMgY2FsbFxuICAgICAgICBjb25zdCB1cGRhdGVPcGVyYXRvcnNQYXJhbSA9IFt7XG4gICAgICAgICAgYWRkX29wZXJhdG9yOiB7XG4gICAgICAgICAgICBvd25lcjogd2FsbGV0QWRkcmVzcyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiBtYXJrZXRwbGFjZUFkZHJlc3MsXG4gICAgICAgICAgICB0b2tlbl9pZDogbmZ0LmF0dHJpYnV0ZXMudG9rZW5JZFxuICAgICAgICAgIH1cbiAgICAgICAgfV07XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgYXBwcm92YWwgdHJhbnNhY3Rpb25cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gYXdhaXQgbmZ0Q29udHJhY3QubWV0aG9kc1xuICAgICAgICAgIC51cGRhdGVfb3BlcmF0b3JzKHVwZGF0ZU9wZXJhdG9yc1BhcmFtKVxuICAgICAgICAgIC5zZW5kKCk7XG5cbiAgICAgICAgLy8gV2FpdCBmb3IgY29uZmlybWF0aW9uXG4gICAgICAgIGF3YWl0IG9wZXJhdGlvbi5jb25maXJtYXRpb24oMSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPcGVyYXRvciBhcHByb3ZhbCBjb25maXJtZWQ6Jywgb3BlcmF0aW9uLmhhc2gpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0FwcHJvdmVkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjaGVja0FuZFNldE9wZXJhdG9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGFwcHJvdmUgbWFya2V0cGxhY2Ugb3BlcmF0b3InKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUxpc3RpbmcoXG4gICAgbWFya2V0cGxhY2VBZGRyZXNzOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBMaXN0aW5nUGFyYW1zXG4gICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtYXJrZXRwbGFjZUNvbnRyYWN0ID0gYXdhaXQgdGhpcy50ZXpvcy5jb250cmFjdC5hdChtYXJrZXRwbGFjZUFkZHJlc3MpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgdGhlIGxpc3Rpbmcgb3BlcmF0aW9uXG4gICAgICBjb25zdCBvcGVyYXRpb24gPSBhd2FpdCBtYXJrZXRwbGFjZUNvbnRyYWN0Lm1ldGhvZHNcbiAgICAgICAgLmxpc3RfdG9rZW4oe1xuICAgICAgICAgIGZhMl9hZGRyZXNzOiBwYXJhbXMuYXNzZXRDb250cmFjdCxcbiAgICAgICAgICB0b2tlbl9pZDogcGFyYW1zLnRva2VuSWQsXG4gICAgICAgICAgcHJpY2U6IHBhcmFtcy5wcmljZSxcbiAgICAgICAgICBzZWxsZXI6IHBhcmFtcy5zZWxsZXJcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbmQoKTtcblxuICAgICAgLy8gV2FpdCBmb3IgY29uZmlybWF0aW9uXG4gICAgICBhd2FpdCBvcGVyYXRpb24uY29uZmlybWF0aW9uKDEpO1xuICAgICAgY29uc29sZS5sb2coJ0xpc3RpbmcgY29uZmlybWVkOicsIG9wZXJhdGlvbi5oYXNoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGxpc3Rpbmc6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGxpc3Rpbmcgb24gbWFya2V0cGxhY2UnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBsaXN0TkZUKG5mdDogTkZUTWV0YWRhdGEsIHByaWNlOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAvLyBDaGVjayBtYXJrZXRwbGFjZSBjb250cmFjdCBjb25maWd1cmF0aW9uIGZpcnN0XG4gICAgY29uc3QgbWFya2V0cGxhY2VBZGRyZXNzID0gQ09ORklHLlRFWk9TLk1BUktFVFBMQUNFX0NPTlRSQUNUO1xuICAgIGlmICghbWFya2V0cGxhY2VBZGRyZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtldHBsYWNlIGNvbnRyYWN0IGFkZHJlc3Mgbm90IGNvbmZpZ3VyZWQnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2FsbGV0QWRkcmVzcyA9IGF3YWl0IHRoaXMuZ2V0V2FsbGV0QWRkcmVzcygpO1xuICAgICAgaWYgKCF3YWxsZXRBZGRyZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gd2FsbGV0IGFkZHJlc3MgYXZhaWxhYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpcnN0LCBlbnN1cmUgdGhlIG1hcmtldHBsYWNlIGlzIGFwcHJvdmVkIGFzIGFuIG9wZXJhdG9yXG4gICAgICBjb25zdCBpc0FwcHJvdmVkID0gYXdhaXQgdGhpcy5jaGVja0FuZFNldE9wZXJhdG9yKG5mdCwgbWFya2V0cGxhY2VBZGRyZXNzKTtcbiAgICAgIGlmICghaXNBcHByb3ZlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhcHByb3ZlIG1hcmtldHBsYWNlIG9wZXJhdG9yJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIE5GVCBhdHRyaWJ1dGVzXG4gICAgICBpZiAoIW5mdC5hdHRyaWJ1dGVzPy5jb250cmFjdEFkZHJlc3MgfHwgIW5mdC5hdHRyaWJ1dGVzPy50b2tlbklkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORlQgY29udHJhY3QgYWRkcmVzcyBvciB0b2tlbiBJRCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHByaWNlIHRvIG11dGV6IGlmIHByb3ZpZGVkIGluIHRlelxuICAgICAgY29uc3QgcHJpY2VJbk11dGV6ID0gcHJpY2UgKiAxXzAwMF8wMDA7IC8vIENvbnZlcnQgdGV6IHRvIG11dGV6XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgbGlzdGluZ1xuICAgICAgY29uc3QgbGlzdGluZ1BhcmFtczogTGlzdGluZ1BhcmFtcyA9IHtcbiAgICAgICAgYXNzZXRDb250cmFjdDogbmZ0LmF0dHJpYnV0ZXMuY29udHJhY3RBZGRyZXNzLFxuICAgICAgICB0b2tlbklkOiBuZnQuYXR0cmlidXRlcy50b2tlbklkLFxuICAgICAgICBwcmljZTogcHJpY2VJbk11dGV6LFxuICAgICAgICBzZWxsZXI6IHdhbGxldEFkZHJlc3NcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZUxpc3RpbmcobWFya2V0cGxhY2VBZGRyZXNzLCBsaXN0aW5nUGFyYW1zKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZSA9PT0gJ01hcmtldHBsYWNlIGNvbnRyYWN0IGFkZHJlc3Mgbm90IGNvbmZpZ3VyZWQnKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gbGlzdE5GVDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiQ09ORklHIiwiVGV6b3NUb29sa2l0IiwiSW5NZW1vcnlTaWduZXIiLCJNYXJrZXREYXRhU2VydmljZSIsIlRlem9zQWRhcHRlciIsImNvbnN0cnVjdG9yIiwic2VjcmV0S2V5IiwiYWRkcmVzcyIsInRlem9zIiwiVEVaT1MiLCJSUENfVVJMIiwibWFya2V0RGF0YVNlcnZpY2UiLCJzaWduZXIiLCJzZXRQcm92aWRlciIsInB1YmxpY0tleUhhc2giLCJ0aGVuIiwiZ2V0V2FsbGV0QWRkcmVzcyIsImdldEZBMkNvbnRyYWN0IiwiY29udHJhY3RBZGRyZXNzIiwiY29udHJhY3QiLCJhdCIsImVycm9yIiwiY29uc29sZSIsInZhbGlkYXRlVG9rZW5NZXRhZGF0YSIsIm1ldGFkYXRhIiwidG9rZW5faWQiLCJ0b2tlbl9pbmZvIiwibmFtZSIsImRlY29kZUJ5dGVzIiwidmFsdWUiLCJnZXRORlRzIiwid2FsbGV0QWRkcmVzcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJUWktUX0FQSSIsIm9rIiwiRXJyb3IiLCJiYWxhbmNlcyIsImpzb24iLCJuZnRzIiwiYmFsYW5jZSIsInRva2VuIiwibG9nIiwidG9rZW5JZCIsInB1c2giLCJpZCIsImNoYWluVHlwZSIsInN5bWJvbCIsImNvbGxlY3Rpb24iLCJhbGlhcyIsImRlc2NyaXB0aW9uIiwiaW1hZ2VVcmwiLCJhcnRpZmFjdFVyaSIsInRodW1ibmFpbFVyaSIsImF0dHJpYnV0ZXMiLCJnZXRNYXJrZXREYXRhIiwibmZ0IiwiY2hlY2tBbmRTZXRPcGVyYXRvciIsIm1hcmtldHBsYWNlQWRkcmVzcyIsIm5mdENvbnRyYWN0Iiwic3RvcmFnZSIsImlzQXBwcm92ZWQiLCJvcGVyYXRvcnMiLCJrZXkiLCJvd25lciIsIm9wZXJhdG9yIiwiZ2V0IiwidXBkYXRlT3BlcmF0b3JzUGFyYW0iLCJhZGRfb3BlcmF0b3IiLCJvcGVyYXRpb24iLCJtZXRob2RzIiwidXBkYXRlX29wZXJhdG9ycyIsInNlbmQiLCJjb25maXJtYXRpb24iLCJoYXNoIiwiY3JlYXRlTGlzdGluZyIsInBhcmFtcyIsIm1hcmtldHBsYWNlQ29udHJhY3QiLCJsaXN0X3Rva2VuIiwiZmEyX2FkZHJlc3MiLCJhc3NldENvbnRyYWN0IiwicHJpY2UiLCJzZWxsZXIiLCJsaXN0TkZUIiwiTUFSS0VUUExBQ0VfQ09OVFJBQ1QiLCJwcmljZUluTXV0ZXoiLCJsaXN0aW5nUGFyYW1zIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/adapters/TezosAdapter.ts\n");

/***/ }),

/***/ "(api)/./src/config/config.ts":
/*!******************************!*\
  !*** ./src/config/config.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CONFIG: () => (/* binding */ CONFIG)\n/* harmony export */ });\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);\n\ndotenv__WEBPACK_IMPORTED_MODULE_0___default().config();\nconst CONFIG = {\n    TEZOS: {\n        RPC_URL: process.env.TEZOS_RPC_URL || 'https://mainnet.api.tez.ie',\n        TZKT_API: process.env.TEZOS_TZKT_API || 'https://api.tzkt.io',\n        MARKETPLACE_CONTRACT: process.env.TEZOS_MARKETPLACE_CONTRACT,\n        MARKET_APIS: {\n            OBJKT: process.env.TEZOS_OBJKT_API || 'https://api.objkt.com',\n            TEIA: process.env.TEZOS_TEIA_API || 'https://api.teia.art'\n        }\n    },\n    APP: {\n        PORT: parseInt(process.env.PORT || '3000', 10),\n        ENV: \"development\" || 0\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvY29uZmlnL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEI7QUFFNUJBLG9EQUFhO0FBRU4sTUFBTUUsU0FBUztJQUNwQkMsT0FBTztRQUNMQyxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLGFBQWEsSUFBSTtRQUN0Q0MsVUFBVUgsUUFBUUMsR0FBRyxDQUFDRyxjQUFjLElBQUk7UUFDeENDLHNCQUFzQkwsUUFBUUMsR0FBRyxDQUFDSywwQkFBMEI7UUFDNURDLGFBQWE7WUFDWEMsT0FBT1IsUUFBUUMsR0FBRyxDQUFDUSxlQUFlLElBQUk7WUFDdENDLE1BQU1WLFFBQVFDLEdBQUcsQ0FBQ1UsY0FBYyxJQUFJO1FBQ3RDO0lBQ0Y7SUFDQUMsS0FBSztRQUNIQyxNQUFNQyxTQUFTZCxRQUFRQyxHQUFHLENBQUNZLElBQUksSUFBSSxRQUFRO1FBQzNDRSxLQUFLZixpQkFBd0IsQ0FBYTtJQUM1QztBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvYXNwYXJhZ3VzLW5mdC1tYW5hZ2VyL3NyYy9jb25maWcvY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgY29uc3QgQ09ORklHID0ge1xuICBURVpPUzoge1xuICAgIFJQQ19VUkw6IHByb2Nlc3MuZW52LlRFWk9TX1JQQ19VUkwgfHwgJ2h0dHBzOi8vbWFpbm5ldC5hcGkudGV6LmllJyxcbiAgICBUWktUX0FQSTogcHJvY2Vzcy5lbnYuVEVaT1NfVFpLVF9BUEkgfHwgJ2h0dHBzOi8vYXBpLnR6a3QuaW8nLFxuICAgIE1BUktFVFBMQUNFX0NPTlRSQUNUOiBwcm9jZXNzLmVudi5URVpPU19NQVJLRVRQTEFDRV9DT05UUkFDVCxcbiAgICBNQVJLRVRfQVBJUzoge1xuICAgICAgT0JKS1Q6IHByb2Nlc3MuZW52LlRFWk9TX09CSktUX0FQSSB8fCAnaHR0cHM6Ly9hcGkub2Jqa3QuY29tJyxcbiAgICAgIFRFSUE6IHByb2Nlc3MuZW52LlRFWk9TX1RFSUFfQVBJIHx8ICdodHRwczovL2FwaS50ZWlhLmFydCdcbiAgICB9XG4gIH0sXG4gIEFQUDoge1xuICAgIFBPUlQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQgfHwgJzMwMDAnLCAxMCksXG4gICAgRU5WOiBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG4gIH1cbn07XG5cbmV4cG9ydCB0eXBlIENvbmZpZyA9IHR5cGVvZiBDT05GSUc7Il0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsIkNPTkZJRyIsIlRFWk9TIiwiUlBDX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJURVpPU19SUENfVVJMIiwiVFpLVF9BUEkiLCJURVpPU19UWktUX0FQSSIsIk1BUktFVFBMQUNFX0NPTlRSQUNUIiwiVEVaT1NfTUFSS0VUUExBQ0VfQ09OVFJBQ1QiLCJNQVJLRVRfQVBJUyIsIk9CSktUIiwiVEVaT1NfT0JKS1RfQVBJIiwiVEVJQSIsIlRFWk9TX1RFSUFfQVBJIiwiQVBQIiwiUE9SVCIsInBhcnNlSW50IiwiRU5WIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/config/config.ts\n");

/***/ }),

/***/ "(api)/./src/services/MarketDataService.ts":
/*!*******************************************!*\
  !*** ./src/services/MarketDataService.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MarketDataService: () => (/* binding */ MarketDataService)\n/* harmony export */ });\n/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/config */ \"(api)/./src/config/config.ts\");\n\nclass ObjktProvider {\n    async getMarketData(nft) {\n        try {\n            const url = `${_config_config__WEBPACK_IMPORTED_MODULE_0__.CONFIG.TEZOS.MARKET_APIS.OBJKT}/v1/token/${nft.attributes?.contractAddress}/${nft.attributes?.tokenId}/marketplace`;\n            const response = await fetch(url);\n            if (!response.ok) return null;\n            const data = await response.json();\n            return {\n                floorPrice: this.parseNumeric(data.floor_price),\n                lastSalePrice: this.parseNumeric(data.last_sale_price),\n                currentListings: this.parseNumeric(data.active_listings_count),\n                currency: 'XTZ',\n                source: this.name\n            };\n        } catch (err) {\n            const error = err;\n            console.log(`${this.name} market data error:`, error?.message || 'Unknown error');\n            return null;\n        }\n    }\n    parseNumeric(value) {\n        if (value === null || value === undefined) return undefined;\n        const parsed = Number(value);\n        return isNaN(parsed) ? undefined : parsed;\n    }\n    constructor(){\n        this.name = 'Objkt';\n    }\n}\nclass TeiaProvider {\n    async getMarketData(nft) {\n        try {\n            const url = `${_config_config__WEBPACK_IMPORTED_MODULE_0__.CONFIG.TEZOS.MARKET_APIS.TEIA}/tokens/${nft.attributes?.contractAddress}/${nft.attributes?.tokenId}`;\n            const response = await fetch(url);\n            if (!response.ok) return null;\n            const data = await response.json();\n            return {\n                floorPrice: this.parseNumeric(data.lowest_price),\n                lastSalePrice: this.parseNumeric(data.last_sale_price),\n                currentListings: this.parseNumeric(data.active_listings),\n                currency: 'XTZ',\n                source: this.name\n            };\n        } catch (err) {\n            const error = err;\n            console.log(`${this.name} market data error:`, error?.message || 'Unknown error');\n            return null;\n        }\n    }\n    parseNumeric(value) {\n        if (value === null || value === undefined) return undefined;\n        const parsed = Number(value);\n        return isNaN(parsed) ? undefined : parsed;\n    }\n    constructor(){\n        this.name = 'Teia';\n    }\n}\nclass MarketDataService {\n    constructor(){\n        this.CACHE_TTL = 5 * 60 * 1000 // 5 minutes\n        ;\n        this.providers = [\n            new ObjktProvider(),\n            new TeiaProvider()\n        ];\n        this.cache = new Map();\n    }\n    async getMarketData(nft) {\n        if (!nft.attributes?.contractAddress || !nft.attributes?.tokenId) {\n            throw new Error('Missing contract address or token ID');\n        }\n        const cacheKey = `${nft.attributes.contractAddress}-${nft.attributes.tokenId}`;\n        const cached = this.cache.get(cacheKey);\n        if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n            return cached.data;\n        }\n        console.log(`Fetching market data for ${nft.name} from multiple sources...`);\n        // Try each provider in sequence\n        for (const provider of this.providers){\n            try {\n                const data = await provider.getMarketData(nft);\n                if (data && this.isValidMarketData(data)) {\n                    this.cache.set(cacheKey, {\n                        data,\n                        timestamp: Date.now()\n                    });\n                    console.log(`Found market data from ${provider.name}`);\n                    return data;\n                }\n            } catch (err) {\n                const error = err;\n                console.log(`${provider.name} provider failed:`, error?.message || 'Unknown error');\n            }\n        }\n        // Return default data if no provider succeeds\n        console.log('No market data available from any provider');\n        return {\n            currency: 'XTZ',\n            source: 'none'\n        };\n    }\n    isValidMarketData(data) {\n        // At least one of these fields should be present and valid\n        return data.floorPrice !== undefined || data.lastSalePrice !== undefined || data.currentListings !== undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZXMvTWFya2V0RGF0YVNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDMEM7QUFPMUMsTUFBTUM7SUFHSixNQUFNQyxjQUFjQyxHQUFnQixFQUE4QjtRQUNoRSxJQUFJO1lBQ0YsTUFBTUMsTUFBTSxHQUFHSixrREFBTUEsQ0FBQ0ssS0FBSyxDQUFDQyxXQUFXLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUVKLElBQUlLLFVBQVUsRUFBRUMsZ0JBQWdCLENBQUMsRUFBRU4sSUFBSUssVUFBVSxFQUFFRSxRQUFRLFlBQVksQ0FBQztZQUNsSSxNQUFNQyxXQUFXLE1BQU1DLE1BQU1SO1lBRTdCLElBQUksQ0FBQ08sU0FBU0UsRUFBRSxFQUFFLE9BQU87WUFFekIsTUFBTUMsT0FBTyxNQUFNSCxTQUFTSSxJQUFJO1lBQ2hDLE9BQU87Z0JBQ0xDLFlBQVksSUFBSSxDQUFDQyxZQUFZLENBQUNILEtBQUtJLFdBQVc7Z0JBQzlDQyxlQUFlLElBQUksQ0FBQ0YsWUFBWSxDQUFDSCxLQUFLTSxlQUFlO2dCQUNyREMsaUJBQWlCLElBQUksQ0FBQ0osWUFBWSxDQUFDSCxLQUFLUSxxQkFBcUI7Z0JBQzdEQyxVQUFVO2dCQUNWQyxRQUFRLElBQUksQ0FBQ0MsSUFBSTtZQUNuQjtRQUNGLEVBQUUsT0FBT0MsS0FBSztZQUNaLE1BQU1DLFFBQVFEO1lBQ2RFLFFBQVFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQ0osSUFBSSxDQUFDLG1CQUFtQixDQUFDLEVBQUVFLE9BQU9HLFdBQVc7WUFDakUsT0FBTztRQUNUO0lBQ0Y7SUFFUWIsYUFBYWMsS0FBVSxFQUFzQjtRQUNuRCxJQUFJQSxVQUFVLFFBQVFBLFVBQVVDLFdBQVcsT0FBT0E7UUFDbEQsTUFBTUMsU0FBU0MsT0FBT0g7UUFDdEIsT0FBT0ksTUFBTUYsVUFBVUQsWUFBWUM7SUFDckM7O2FBNUJBUixPQUFPOztBQTZCVDtBQUVBLE1BQU1XO0lBR0osTUFBTWxDLGNBQWNDLEdBQWdCLEVB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RyxDQUFDO1FBQ1osT0FBTztZQUNMTixVQUFVO1lBQ1ZDLFFBQVE7UUFDVjtJQUNGO0lBRVE4QixrQkFBa0J4QyxJQUFnQixFQUFXO1FBQ25ELDJEQUEyRDtRQUMzRCxPQUNFQSxLQUFLRSxVQUFVLEtBQUtnQixhQUNwQmxCLEtBQUtLLGFBQWEsS0FBS2EsYUFDdkJsQixLQUFLTyxlQUFlLEtBQUtXO0lBRTdCO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL21pa2UvYXNwYXJhZ3VzLW5mdC1tYW5hZ2VyL3NyYy9zZXJ2aWNlcy9NYXJrZXREYXRhU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBORlRNZXRhZGF0YSwgTWFya2V0RGF0YSB9IGZyb20gJy4uL3R5cGVzL25mdCc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuLi9jb25maWcvY29uZmlnJztcblxuaW50ZXJmYWNlIE1hcmtldHBsYWNlUHJvdmlkZXIge1xuICBuYW1lOiBzdHJpbmc7XG4gIGdldE1hcmtldERhdGE6IChuZnQ6IE5GVE1ldGFkYXRhKSA9PiBQcm9taXNlPE1hcmtldERhdGEgfCBudWxsPjtcbn1cblxuY2xhc3MgT2Jqa3RQcm92aWRlciBpbXBsZW1lbnRzIE1hcmtldHBsYWNlUHJvdmlkZXIge1xuICBuYW1lID0gJ09iamt0JztcblxuICBhc3luYyBnZXRNYXJrZXREYXRhKG5mdDogTkZUTWV0YWRhdGEpOiBQcm9taXNlPE1hcmtldERhdGEgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IGAke0NPTkZJRy5URVpPUy5NQVJLRVRfQVBJUy5PQkpLVH0vdjEvdG9rZW4vJHtuZnQuYXR0cmlidXRlcz8uY29udHJhY3RBZGRyZXNzfS8ke25mdC5hdHRyaWJ1dGVzPy50b2tlbklkfS9tYXJrZXRwbGFjZWA7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybiBudWxsO1xuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmxvb3JQcmljZTogdGhpcy5wYXJzZU51bWVyaWMoZGF0YS5mbG9vcl9wcmljZSksXG4gICAgICAgIGxhc3RTYWxlUHJpY2U6IHRoaXMucGFyc2VOdW1lcmljKGRhdGEubGFzdF9zYWxlX3ByaWNlKSxcbiAgICAgICAgY3VycmVudExpc3RpbmdzOiB0aGlzLnBhcnNlTnVtZXJpYyhkYXRhLmFjdGl2ZV9saXN0aW5nc19jb3VudCksXG4gICAgICAgIGN1cnJlbmN5OiAnWFRaJyxcbiAgICAgICAgc291cmNlOiB0aGlzLm5hbWVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGVyciBhcyBFcnJvcjtcbiAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gbWFya2V0IGRhdGEgZXJyb3I6YCwgZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VOdW1lcmljKHZhbHVlOiBhbnkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcih2YWx1ZSk7XG4gICAgcmV0dXJuIGlzTmFOKHBhcnNlZCkgPyB1bmRlZmluZWQgOiBwYXJzZWQ7XG4gIH1cbn1cblxuY2xhc3MgVGVpYVByb3ZpZGVyIGltcGxlbWVudHMgTWFya2V0cGxhY2VQcm92aWRlciB7XG4gIG5hbWUgPSAnVGVpYSc7XG5cbiAgYXN5bmMgZ2V0TWFya2V0RGF0YShuZnQ6IE5GVE1ldGFkYXRhKTogUHJvbWlzZTxNYXJrZXREYXRhIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBgJHtDT05GSUcuVEVaT1MuTUFSS0VUX0FQSVMuVEVJQX0vdG9rZW5zLyR7bmZ0LmF0dHJpYnV0ZXM/LmNvbnRyYWN0QWRkcmVzc30vJHtuZnQuYXR0cmlidXRlcz8udG9rZW5JZH1gO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZsb29yUHJpY2U6IHRoaXMucGFyc2VOdW1lcmljKGRhdGEubG93ZXN0X3ByaWNlKSxcbiAgICAgICAgbGFzdFNhbGVQcmljZTogdGhpcy5wYXJzZU51bWVyaWMoZGF0YS5sYXN0X3NhbGVfcHJpY2UpLFxuICAgICAgICBjdXJyZW50TGlzdGluZ3M6IHRoaXMucGFyc2VOdW1lcmljKGRhdGEuYWN0aXZlX2xpc3RpbmdzKSxcbiAgICAgICAgY3VycmVuY3k6ICdYVFonLFxuICAgICAgICBzb3VyY2U6IHRoaXMubmFtZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gZXJyIGFzIEVycm9yO1xuICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5uYW1lfSBtYXJrZXQgZGF0YSBlcnJvcjpgLCBlcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZU51bWVyaWModmFsdWU6IGFueSk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyc2VkID0gTnVtYmVyKHZhbHVlKTtcbiAgICByZXR1cm4gaXNOYU4ocGFyc2VkKSA/IHVuZGVmaW5lZCA6IHBhcnNlZDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2V0RGF0YVNlcnZpY2Uge1xuICBwcml2YXRlIHByb3ZpZGVyczogTWFya2V0cGxhY2VQcm92aWRlcltdO1xuICBwcml2YXRlIGNhY2hlOiBNYXA8c3RyaW5nLCB7IGRhdGE6IE1hcmtldERhdGE7IHRpbWVzdGFtcDogbnVtYmVyIH0+O1xuICBwcml2YXRlIHJlYWRvbmx5IENBQ0hFX1RUTCA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlc1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJvdmlkZXJzID0gW1xuICAgICAgbmV3IE9iamt0UHJvdmlkZXIoKSxcbiAgICAgIG5ldyBUZWlhUHJvdmlkZXIoKVxuICAgIF07XG4gICAgdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIGFzeW5jIGdldE1hcmtldERhdGEobmZ0OiBORlRNZXRhZGF0YSk6IFByb21pc2U8TWFya2V0RGF0YT4ge1xuICAgIGlmICghbmZ0LmF0dHJpYnV0ZXM/LmNvbnRyYWN0QWRkcmVzcyB8fCAhbmZ0LmF0dHJpYnV0ZXM/LnRva2VuSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBjb250cmFjdCBhZGRyZXNzIG9yIHRva2VuIElEJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHtuZnQuYXR0cmlidXRlcy5jb250cmFjdEFkZHJlc3N9LSR7bmZ0LmF0dHJpYnV0ZXMudG9rZW5JZH1gO1xuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBcbiAgICBpZiAoY2FjaGVkICYmIERhdGUubm93KCkgLSBjYWNoZWQudGltZXN0YW1wIDwgdGhpcy5DQUNIRV9UVEwpIHtcbiAgICAgIHJldHVybiBjYWNoZWQuZGF0YTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgbWFya2V0IGRhdGEgZm9yICR7bmZ0Lm5hbWV9IGZyb20gbXVsdGlwbGUgc291cmNlcy4uLmApO1xuICAgIFxuICAgIC8vIFRyeSBlYWNoIHByb3ZpZGVyIGluIHNlcXVlbmNlXG4gICAgZm9yIChjb25zdCBwcm92aWRlciBvZiB0aGlzLnByb3ZpZGVycykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHByb3ZpZGVyLmdldE1hcmtldERhdGEobmZ0KTtcbiAgICAgICAgaWYgKGRhdGEgJiYgdGhpcy5pc1ZhbGlkTWFya2V0RGF0YShkYXRhKSkge1xuICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIG1hcmtldCBkYXRhIGZyb20gJHtwcm92aWRlci5uYW1lfWApO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBlcnIgYXMgRXJyb3I7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3Byb3ZpZGVyLm5hbWV9IHByb3ZpZGVyIGZhaWxlZDpgLCBlcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBkZWZhdWx0IGRhdGEgaWYgbm8gcHJvdmlkZXIgc3VjY2VlZHNcbiAgICBjb25zb2xlLmxvZygnTm8gbWFya2V0IGRhdGEgYXZhaWxhYmxlIGZyb20gYW55IHByb3ZpZGVyJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbmN5OiAnWFRaJyxcbiAgICAgIHNvdXJjZTogJ25vbmUnXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgaXNWYWxpZE1hcmtldERhdGEoZGF0YTogTWFya2V0RGF0YSk6IGJvb2xlYW4ge1xuICAgIC8vIEF0IGxlYXN0IG9uZSBvZiB0aGVzZSBmaWVsZHMgc2hvdWxkIGJlIHByZXNlbnQgYW5kIHZhbGlkXG4gICAgcmV0dXJuIChcbiAgICAgIGRhdGEuZmxvb3JQcmljZSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBkYXRhLmxhc3RTYWxlUHJpY2UgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgZGF0YS5jdXJyZW50TGlzdGluZ3MgIT09IHVuZGVmaW5lZFxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiQ09ORklHIiwiT2Jqa3RQcm92aWRlciIsImdldE1hcmtldERhdGEiLCJuZnQiLCJ1cmwiLCJURVpPUyIsIk1BUktFVF9BUElTIiwiT0JKS1QiLCJhdHRyaWJ1dGVzIiwiY29udHJhY3RBZGRyZXNzIiwidG9rZW5JZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImRhdGEiLCJqc29uIiwiZmxvb3JQcmljZSIsInBhcnNlTnVtZXJpYyIsImZsb29yX3ByaWNlIiwibGFzdFNhbGVQcmljZSIsImxhc3Rfc2FsZV9wcmljZSIsImN1cnJlbnRMaXN0aW5ncyIsImFjdGl2ZV9saXN0aW5nc19jb3VudCIsImN1cnJlbmN5Iiwic291cmNlIiwibmFtZSIsImVyciIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInBhcnNlZCIsIk51bWJlciIsImlzTmFOIiwiVGVpYVByb3ZpZGVyIiwiVEVJQSIsImxvd2VzdF9wcmljZSIsImFjdGl2ZV9saXN0aW5ncyIsIk1hcmtldERhdGFTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJDQUNIRV9UVEwiLCJwcm92aWRlcnMiLCJjYWNoZSIsIk1hcCIsIkVycm9yIiwiY2FjaGVLZXkiLCJjYWNoZWQiLCJnZXQiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwicHJvdmlkZXIiLCJpc1ZhbGlkTWFya2V0RGF0YSIsInNldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/services/MarketDataService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnfts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fnfts.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();